<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title>To Do List</title>
</head>

<body>
    <header>TO DO LIST</header>
    <div>
        <p>Who</p>
        <input type="text" id="txtFirstName" autofocus placeholder="first name">
    </div>
    <div>
        <p>What</p>
        <input type="text" id="txtTaskDesc" placeholder="task description">
    </div>
    <div>
        <p>Due</p>
        <input type="text" id="txtDateDue" placeholder="mm/dd/yyyy">
    </div>
    <br>
    <button id="btnSubmit">Submit Foo</button>
    <p class="to-do-title">List of To Dos</p>
    <div id="myList"></div>
    <script>
        var firstName = document.querySelector("#txtFirstName");
        var task = document.querySelector("#txtTaskDesc");
        var dateDue = document.querySelector("#txtDateDue");

        console.log("first name: " + firstName.value);
        console.log("task description: " + task.value);
        console.log("due date: " + dateDue.value);
    
        var submitButton = document.querySelector("#btnSubmit");

    // submitButton.addEventListener("click", doThisWhenClick);
   submitButton.addEventListener("click", function() {
    if (localStorage.taskCount)
            localStorage.taskCount = Number(localStorage.taskCount) + 1;
        else localStorage.taskCount = "1";
        
        localStorage["name" + localStorage.taskCount] = firstName.value;
        localStorage["task" + localStorage.taskCount] = task.value;
        localStorage["due" + localStorage.taskCount] = dateDue.value;
        displayTasksFromLocalStorage();
    });

    function displayTasksFromLocalStorage() {
        var tasksToDisplay = "";
        for (var i = 1; i <= localStorage.taskCount; i++) {
            tasksToDisplay = localStorage["name" + i] + " " +localStorage["task" + i] + " " + localStorage["due" + i] + "<br />" + tasksToDisplay;
        }

        // localStorage.myList = firstName.value + " " + task.value + " " + dateDue.value;
        document.querySelector("#myList").innerHTML = tasksToDisplay;
    }
   

    // var doThisWhenClick = function() {

    //    localStorage.ToDos = firstName.value + " " + task.value + " "  + dateDue.value;

    //     var tasks = document.querySelector("#myList");
    //     tasks.innerHTML = localStorage.ToDos;
    // }
    
displayTasksFromLocalStorage();
    


    </script>
</body>

</html>